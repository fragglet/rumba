.TH TESTPARM 1 21/2/1994 testparm testparm
.SH NAME
testparm \- check an smbserver configuration file for internal correctness
.SH SYNOPSIS
.B testparm
.I configfilename
[
.I hostname
.I hostIP
]
.SH DESCRIPTION
This program is a very simple test program to check an smbserver configuration
file for internal correctness. If this program reports no problems, you can use
the configuration file with confidence that the smbserver will successfully
load the configuration file.

Note that this is NOT a guarantee that the services etc. specified in the
configuration file will be available or will operate as expected.

As part of the test, the program will also attempt to add the dynamic service
"fred". If there is no "[homes]" section in the configuration file, this test
will be skipped. Obviously if there is an existing service called "fred" this
test will not be entirely conclusive...

If the optional host name and host IP address are specified on the command
line, this test program will run through the first 1000 service entries 
(or all service entries if there are fewer than 1000 in the file), reporting
whether the specified host has access to each service.
.SH OPTIONS
.I configfilename

.RS 3
This is the name of the configuration file to check.
.RE

.I hostname

.RS 3
This is the name of the host to check access on.

If this parameter is supplied, the
.I hostIP
parameter must also be supplied, or strange things may happen.
.RE

.I hostIP

.RS 3
This is the IP number of the host specified in the previous parameter.

This number must be supplied if the
.I hostname
parameter is supplied, or strange things may happen.
.RE
.SH FILES
.B smb.conf
.RS 3
This is usually the name of the configuration file used by smbserver.
.RE
.SH ENVIRONMENT VARIABLES
Not applicable.

.SH INSTALLATION
The location of the server and its support files is a matter for individual
system administrators. The following are thus suggestions only.

It is recommended that the
.B testparm
program be installed under the /usr/local hierarchy, in a directory readable
by all, writeable only by root. The program itself should be executable by all.
The program should NOT be setuid or setgid!
.SH VERSION
This man page is correct for version 1.5.40 of the smbserver suite, plus some
of the recent patches to it. These notes will necessarily lag behind 
development of the software, so it is possible that your version of 
the program has extensions or parameter semantics that differ from or are not 
covered by this man page. Please notify these to the address below for 
rectification.
.SH SEE ALSO
.B smb.conf
(5),
.B smbserver
(8)
.SH DIAGNOSTICS
The program will issue a message saying whether the configuration file loaded
OK or not. This message may be preceded by errors and warnings if the file
did not load. If the file was loaded OK, the program then dumps all known
service details to stdout. The message "no copy details needed" is of
interest only to developers.

If a host name is specified but no host IP number, all bets are off.

All normal messages will be logged as if the configuration file was being
loaded by smbserver. The log file should be checked carefully for warnings
and errors. The
.B testparm
program runs at debuglevel 3, so fairly extensive log information is written.
The log file name used is
.I test.log
in the current directory.

Other messages are self-explanatory.
.SH BUGS
Please send bug reports, comments and so on to:

.RS 3
.B Andrew.Tridgell@anu.edu.au (Andrew Tridgell)
.RS 3

or to the mail group

.RE
.B netbios@arvidsjaur.anu.edu.au
.RE

Errors in this man page can be notified to:

.RS 3
.B Karl.Auer@anu.edu.au (Karl Auer)
.RS 3

.SH CREDITS
The original smbserver software and related utilities were created by 
Andrew Tridgell (Andrew.Tridgell@anu.edu.au). Andrew is also the Keeper
of the Source for this project.

The testparm program and this man page were written by Karl Auer
(Karl.Auer@anu.edu.au)

Contributors to the project are (in alphabetical order by email address):

.RS 3
Andrew.Tridgell@anu.edu.au (Andrew Tridgell)

Karl.Auer@anu.edu.au (Karl Auer)

bogstad@cs.jhu.edu

bryan@alex.com

gadams@ddrive.demon.co.uk

jeremy@netcom.com (Jeremy Allison)

joergs@toppoint.de

leefi@microsoft.com

magnus@axiom.se

mark@scot1.ucsalf.ac.uk

pierson@ketje.enet.dec.com

ppk@atk.tpo.fi (Pasi Kaara)

rossw@march.co.uk

sreiz@aie.nl

tim.hudson@gslmail.mincom.oz.au (Tim Hudson)

troyer@saifr00.ateng.az.honeywell.com
.RE

(These Credits are simply those who appear in the change log for this project.
If you want your place in the sun, patch the man page!)